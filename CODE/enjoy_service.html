<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request Services - SavePaws</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Poppins', sans-serif; }
        .bg-custom-purple { background-color: #6c5ce7; }
        .text-custom-purple { color: #6c5ce7; }
        .bg-custom-blue { background-color: #4a69bd; }
        .clip-yellow-box { clip-path: polygon(0 0, 100% 0, 100% 100%, 15% 100%); }
        .service-icon-box {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .service-icon-box:hover {
            border-color: #6c5ce7;
            background-color: #f0efff;
        }
        .service-icon-box.selected {
            border-color: #6c5ce7;
            background-color: #eef2ff;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .payment-option.active {
            border-color: #4f46e5;
            background-color: #eef2ff;
        }
        .modal {
            transition: opacity 0.3s ease;
        }
        .modal-content {
            transition: transform 0.3s ease;
        }
    </style>
</head>

<body class="bg-white">

    <nav class="flex flex-wrap justify-between items-center px-2 md:px-4 py-4 bg-white shadow-lg">
        <ul class="hidden lg:flex mx-auto justify-evenly flex-wrap">
            <li><a href="guest.html" class="text-sm lg:text-sm font-bold text-black hover:text-indigo-600 lg:p-5">Home</a></li>
            <li><a href="marketplace.html" class="text-sm lg:text-sm font-bold text-black hover:text-indigo-600 lg:p-5">Shop</a></li>
            <li><a href="clinic.html" class="text-sm lg:text-sm font-bold text-indigo-600 lg:p-5">Clinics</a></li>
            <li><a href="rescue.html" class="text-sm lg:text-sm font-bold text-black hover:text-indigo-600 lg:p-5">Rescue</a></li>
            <li><a href="blog.html" class="text-sm lg:text-sm font-bold text-black hover:text-indigo-600 lg:p-5">Blog</a></li>
            <li><a href="adopt.html" class="text-sm lg:text-sm font-bold text-black hover:text-indigo-600 lg:p-5">Adopt</a></li>
            <li><a href="donation.html" class="text-sm lg:text-sm font-bold text-black hover:text-indigo-600 lg:p-5">Donate</a></li>
        </ul>
        <div class="flex items-center space-x-2 lg:space-x-5">
            <div class="flex justify-center items-center">
                <a href="log_in.html" class="text-sm lg:text-sm font-bold text-black hover:text-indigo-600">Login/</a>
                <a href="sign_up.html" class="text-sm lg:text-sm font-bold text-black hover:text-indigo-600">Signup</a>
            </div>
            <div class="rounded-full bg-slate-300 shadow-md w-10 h-10 lg:w-12 lg:h-12 flex items-center justify-center text-xs lg:text-base">Img</div>
        </div>
        <button id="menu-btn" class="lg:hidden text-xl text-black ml-4"><i class="fa-solid fa-bars"></i></button>
    </nav>

    <ul id="mobile-menu" class="hidden flex-col space-y-4 bg-white shadow-md p-6 lg:hidden">
        <li><a href="guest.html" class="text-lg font-bold text-black hover:text-indigo-600">Home</a></li>
        <li><a href="marketplace.html" class="text-lg font-bold text-black hover:text-indigo-600">Shop</a></li>
        <li><a href="clinic.html" class="text-lg font-bold text-indigo-600">Clinics</a></li>
        <li><a href="rescue.html" class="text-lg font-bold text-black hover:text-indigo-600">Rescue Team</a></li>
        <li><a href="blog.html" class="text-lg font-bold text-black hover:text-indigo-600">Blog</a></li>
        <li><a href="adopt.html" class="text-lg font-bold text-black hover:text-indigo-600">Adopt</a></li>
        <li><a href="donation.html" class="text-lg font-bold text-black hover:text-indigo-600">Donate</a></li>
    </ul>

    <section class="container mx-auto px-4 mt-8">
        <div class="relative rounded-xl overflow-hidden shadow-lg">
            <img src="https://images.unsplash.com/photo-1548658607-4e26214151a1?q=80&w=1850&auto=format=fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Pets playing" class="w-full h-64 object-cover">
            <div class="absolute inset-y-0 right-0 w-full md:w-1/2 bg-yellow-300 bg-opacity-90 flex flex-col justify-center p-8 md:p-12 clip-yellow-box">
                <h2 class="text-4xl md:text-5xl font-extrabold text-gray-800 mb-2">READY TO ROMP. WAG. PLAY?</h2>
                <p class="text-lg text-gray-700">Fill the form below</p>
            </div>
        </div>
    </section>

    <div class="container mx-auto px-4 py-16">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
            <div class="lg:col-span-2">
                <h2 class="text-3xl font-bold text-custom-purple mb-2">Request Services</h2>
                <p class="text-gray-600 mb-8">Please select any services you’re interested in and fill out the form</p>
                <form id="service-form" class="space-y-6">
                    <div>
                        <label class="block text-gray-700 font-medium mb-3">Select Service(s) *</label>
                        <div id="service-options" class="flex flex-wrap gap-4">
                            </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div><label for="your_name" class="block text-gray-700 font-medium mb-1">Your Name *</label><input type="text" id="your_name" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-custom-purple focus:border-custom-purple" required></div>
                        <div><label for="pet_name" class="block text-gray-700 font-medium mb-1">Pet Name(s) *</label><input type="text" id="pet_name" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-custom-purple focus:border-custom-purple" required></div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div><label for="email" class="block text-gray-700 font-medium mb-1">Email *</label><input type="email" id="email" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-custom-purple focus:border-custom-purple" required></div>
                        <div><label for="phone" class="block text-gray-700 font-medium mb-1">Phone *</label><input type="tel" id="phone" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-custom-purple focus:border-custom-purple" required></div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="pet_type" class="block text-gray-700 font-medium mb-1">Pet Type *</label>
                            <select id="pet_type" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-custom-purple focus:border-custom-purple appearance-none bg-white" required>
                                <option value="">Select Pet Type</option>
                                <option>Dog</option>
                                <option>Cat</option>
                                <option>Bird</option>
                                <option>Other</option>
                            </select>
                        </div>
                        <div>
                            <label for="pet_breed" class="block text-gray-700 font-medium mb-1">Pet Breed</label>
                            <input type="text" id="pet_breed" placeholder="e.g., Golden Retriever" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-custom-purple focus:border-custom-purple">
                        </div>
                    </div>
                    <div>
                        <label for="share_location" class="block text-gray-700 font-medium mb-1">Share Location *</label>
                        <input type="text" id="share_location" placeholder="Enter your full address" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-custom-purple focus:border-custom-purple" required>
                    </div>
                    <div>
                        <label for="help_text" class="block text-gray-700 font-medium mb-1">How can we help?</label>
                        <textarea id="help_text" rows="2" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-custom-purple focus:border-custom-purple"></textarea>
                    </div>
                    <button type="submit" id="request-service-btn" class="w-full bg-gray-300 text-white py-3 rounded-xl font-medium shadow-md transition duration-300 mt-6 cursor-not-allowed" disabled>Submit Your Service Request</button>
                </form>
            </div>
            <div class="lg:col-span-1">
                <div class="p-8 lg:p-0">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">Contact Us</h2>
                    <p class="text-gray-600 mb-8">We're open for any suggestion or just to have a chat!</p>
                    <div class="space-y-6">
                        <div class="flex items-start"><i class="fas fa-phone-alt w-6 h-6 text-custom-purple flex-shrink-0 mt-1"></i><div class="ml-4"><p class="text-gray-500 text-sm">Phone</p><p class="font-medium text-gray-800">02135617-608-3131</p></div></div>
                        <div class="flex items-start"><i class="fas fa-envelope w-6 h-6 text-custom-purple flex-shrink-0 mt-1"></i><div class="ml-4"><p class="text-gray-500 text-sm">Email</p><p class="font-medium text-gray-800">happypetcare@gmail.com</p></div></div>
                        <div class="flex items-start"><i class="fas fa-map-marker-alt w-6 h-6 text-custom-purple flex-shrink-0 mt-1"></i><div class="ml-4"><p class="text-gray-500 text-sm">Address</p><p class="font-medium text-gray-800">Happy Pet Care 151 Sutherland Rd, Brighton, MA</p></div></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-[#1A253DF0] text-white py-12 px-6 w-full">
        </footer>
    
    <div id="payment-modal" class="fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-[99] hidden">
        <div id="payment-modal-content" class="bg-white rounded-xl shadow-2xl w-full max-w-lg transition-transform transform scale-95">
            </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const menuBtn = document.getElementById('menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            const serviceForm = document.getElementById('service-form');
            const requestServiceBtn = document.getElementById('request-service-btn');
            const serviceOptionsContainer = document.getElementById('service-options');
            const paymentModal = document.getElementById('payment-modal');
            const paymentModalContent = document.getElementById('payment-modal-content');
            let selectedServices = [];

            const services = [
                { id: "wellness", name: "Wellness Exam", icon: `<svg class="w-6 h-6 text-custom-purple mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.618a1 1 0 010 1.414l-4.242 4.242a1 1 0 01-1.414 0L9.172 10.586a1 1 0 010-1.414l4.242-4.242a1 1 0 011.414 0z"></path></svg>`, price: 1500 },
                { id: "vaccination", name: "Vaccination", icon: `<svg class="w-6 h-6 text-custom-purple mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2m-9 0V3h4m0 2h4m-4 0v2"></path></svg>`, price: 2000 },
                { id: "surgery", name: "Surgery", icon: `<svg class="w-6 h-6 text-custom-purple mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>`, price: 10000 },
                { id: "emergency", name: "Emergency Care", icon: `<svg class="w-6 h-6 text-custom-purple mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>`, price: 5000 },
                { id: "grooming", name: "Grooming", icon: `<svg class="w-6 h-6 text-custom-purple mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>`, price: 2500 },
                { id: "pet_taxi", name: "Pet Taxi", icon: `<svg class="w-6 h-6 text-custom-purple mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>`, price: 1000 },
            ];

            // Render Service Options
            services.forEach(service => {
                const serviceDiv = document.createElement('div');
                serviceDiv.className = 'service-icon-box w-20 h-20 flex flex-col items-center justify-center p-2 border-2 border-gray-200 rounded-lg text-sm text-center';
                serviceDiv.dataset.service = service.id;
                serviceDiv.innerHTML = `${service.icon} ${service.name.replace(' ', '<br>')}`;
                serviceOptionsContainer.appendChild(serviceDiv);
            });

            // Modal Handling
            const openModal = () => {
                paymentModal.classList.remove('hidden');
                setTimeout(() => paymentModalContent.classList.remove('scale-95'), 10);
            };
            const closeModal = () => {
                paymentModalContent.classList.add('scale-95');
                setTimeout(() => paymentModal.classList.add('hidden'), 300);
            };

            // View Rendering
            const renderPaymentView = (totalBill) => {
                paymentModalContent.innerHTML = `
                    <div id="payment-view">
                        <div class="flex justify-between items-center p-6 border-b">
                            <h2 class="text-2xl font-bold">Complete Your Payment</h2>
                            <button id="close-modal-btn" class="text-2xl text-gray-500 hover:text-gray-800">&times;</button>
                        </div>
                        <div class="p-6">
                            <p class="text-center text-lg mb-6">Total Bill: <span class="font-bold text-indigo-600 text-2xl">৳${totalBill.toLocaleString()}</span></p>
                            <h3 class="font-semibold text-lg mb-3 text-gray-700">Select Your Payment Method</h3>
                            <div class="grid grid-cols-3 gap-2 border border-gray-200 rounded-lg p-1 mb-6">
                                <button data-method="card" class="payment-option text-center p-3 rounded-md font-semibold cursor-pointer transition active"><i class="fas fa-credit-card mr-2"></i>Card</button>
                                <button data-method="mobile" class="payment-option text-center p-3 rounded-md font-semibold cursor-pointer transition"><i class="fas fa-mobile-alt mr-2"></i>Mobile</button>
                                <button data-method="bank" class="payment-option text-center p-3 rounded-md font-semibold cursor-pointer transition"><i class="fas fa-university mr-2"></i>Bank</button>
                            </div>
                            <div id="card-details">
                                <input type="text" placeholder="Card Number" class="w-full p-3 border-2 rounded-lg mb-3 focus:border-indigo-500">
                                <div class="flex gap-3">
                                    <input type="text" placeholder="MM/YY" class="w-1/2 p-3 border-2 rounded-lg focus:border-indigo-500">
                                    <input type="text" placeholder="CVC" class="w-1/2 p-3 border-2 rounded-lg focus:border-indigo-500">
                                </div>
                            </div>
                            <div id="mobile-details" class="hidden text-center">
                                <p class="mb-4">Select your mobile banking provider:</p>
                                <div class="flex justify-center gap-4"><img src="https://logowik.com/content/uploads/images/bkash-new-logo-20232152.logowik.com.webp" class="h-10 cursor-pointer"><img src="https://seeklogo.com/images/N/nagad-logo-7A7521A39C-seeklogo.com.png" class="h-10 cursor-pointer"><img src="https://www.logo.wine/a/logo/Rocket_(mobile_banking)/Rocket_(mobile_banking)-Logo.wine.svg" class="h-10 cursor-pointer"></div>
                            </div>
                            <div id="bank-details" class="hidden text-left bg-gray-50 p-4 rounded-lg border">
                                <p class="text-gray-700 mb-3 font-semibold">Bank Details:</p>
                                <div class="space-y-2 text-sm">
                                    <div class="flex justify-between"><span class="text-gray-500">Account Name:</span><span class="font-mono font-semibold">SavePaws</span></div>
                                    <div class="flex justify-between"><span class="text-gray-500">Account No:</span><span class="font-mono font-semibold">123456789</span></div>
                                </div>
                            </div>
                            <button id="confirm-payment-btn" class="w-full mt-6 py-3 bg-custom-purple text-white font-bold rounded-xl shadow-md hover:bg-custom-blue">Confirm Payment</button>
                        </div>
                    </div>`;
            };

            const renderThankYouView = () => {
                 paymentModalContent.innerHTML = `
                    <div class="text-center p-10"><i class="fas fa-check-circle text-6xl text-green-500 mb-4"></i><h2 class="text-3xl font-bold">Request Sent!</h2><p class="text-gray-600 mt-2">Thank you! Your service request has been received. We will contact you shortly.</p><button id="done-btn" class="mt-8 bg-custom-purple text-white font-semibold py-2 px-6 rounded-lg shadow-md hover:bg-custom-blue">Done</button></div>`;
            };

            // --- Event Listeners ---
            if (menuBtn && mobileMenu) {
                menuBtn.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
            }

            serviceOptionsContainer.addEventListener('click', function(e) {
                const target = e.target.closest('.service-icon-box');
                if (target) {
                    target.classList.toggle('selected');
                    const serviceId = target.dataset.service;
                    if (selectedServices.includes(serviceId)) {
                        selectedServices = selectedServices.filter(s => s !== serviceId);
                    } else {
                        selectedServices.push(serviceId);
                    }
                    
                    if (selectedServices.length > 0) {
                        requestServiceBtn.disabled = false;
                        requestServiceBtn.classList.remove('bg-gray-300', 'cursor-not-allowed');
                        requestServiceBtn.classList.add('bg-custom-purple', 'hover:bg-custom-blue');
                    } else {
                        requestServiceBtn.disabled = true;
                        requestServiceBtn.classList.add('bg-gray-300', 'cursor-not-allowed');
                        requestServiceBtn.classList.remove('bg-custom-purple', 'hover:bg-custom-blue');
                    }
                }
            });

            serviceForm.addEventListener('submit', function(e) {
                e.preventDefault();
                let totalBill = 0;
                selectedServices.forEach(serviceId => {
                    const service = services.find(s => s.id === serviceId);
                    if(service) totalBill += service.price;
                });
                renderPaymentView(totalBill);
                openModal();
            });

            paymentModal.addEventListener('click', (e) => {
                if (e.target.closest('#close-modal-btn') || e.target.closest('#done-btn')) {
                    closeModal();
                } else if (e.target.closest('.payment-option')) {
                    const method = e.target.closest('.payment-option').dataset.method;
                    document.querySelectorAll('.payment-option').forEach(opt => opt.classList.remove('active'));
                    e.target.closest('.payment-option').classList.add('active');
                    ['card-details', 'mobile-details', 'bank-details'].forEach(id => document.getElementById(id).classList.add('hidden'));
                    document.getElementById(`${method}-details`).classList.remove('hidden');
                } else if (e.target.closest('#confirm-payment-btn')) {
                    renderThankYouView();
                }
            });
        });
    </script>
</body>
</html>